[{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/app.js","content":"let angular = require('angular'),\n    AddArticleController = require('./controllers/add-article.controller'),\n    AllArticlesController = require('./controllers/all-articles.controller'),\n    AppService = require('./app.service'),\n    EditArticleController = require('./controllers/edit-article.controller'),\n    MinLengthDirective = require('./directives/min-length.directive');\n\nrequire('angular-resource');\nrequire('angular-route');\nrequire('./components/articles-list/articles-list.module');\n\nmodule.exports = angular\n    .module('app', ['ngResource', 'ngRoute', 'articlesListModule'])\n    .config(function($routeProvider) {\n        $routeProvider\n            .when('/', {\n                template: require('./templates/all-articles.html'),\n                controller: 'AllArticlesController',\n                controllerAs: 'allArticlesCtrl'\n            })\n            .when('/add', {\n                template: require('./templates/add-edit-article.html'),\n                controller: 'AddArticleController',\n                controllerAs: '$ctrl'\n            })\n            .when('/:id/edit', {\n                template: require('./templates/add-edit-article.html'),\n                controller: 'EditArticleController',\n                controllerAs: '$ctrl'\n            });\n    })\n    .controller('AddArticleController', AddArticleController)\n    .controller('AllArticlesController', AllArticlesController)\n    .controller('EditArticleController', EditArticleController)\n    .directive('minLength', MinLengthDirective)\n    .factory('articleService', AppService);\n\nangular.element(document).ready(function bootstrap() {\n    angular.bootstrap(document, ['app']);\n});\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/app.service.js","content":"function AppService($resource) {\n    let list = [];\n\n    function addNewArticle(task) {\n        list.push(task);\n    }\n\n    function getList() {\n        return list;\n    }\n\n    function getListPromise() {\n        return $resource('./articles.json').get().$promise.then(data => {\n            list = data.array\n\n            return list;\n        });\n    }\n\n    function getArticleById(id) {\n        return list.find(item => item.id === id);\n    }\n\n    function isListExists() {\n        return !!list.length;\n    }\n\n    function updateArticle(id, newTitle, newContent) {\n        var article = list.find(item => item.id === id);\n\n        article.title = newTitle;\n        article.content = newContent;\n    }\n\n    return {\n        addNewArticle: addNewArticle,\n        getList: getList,\n        getListPromise: getListPromise,\n        getArticleById: getArticleById,\n        isListExists: isListExists,\n        updateArticle: updateArticle\n    };\n}\n\nmodule.exports = AppService;\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/components/articles-list/articles-list.component.js","content":"function ArticlesListController($location) {\n    let vm = this;\n\n    function onArticleClick(id) {\n        $location.path('/' + id + '/edit');\n    }\n\n    function onPageUpdate(indices) {\n        vm.page = vm.list.slice(indices.startIndex, indices.endIndex);\n    }\n\n    vm.onArticleClick = onArticleClick;\n    vm.onPageUpdate = onPageUpdate;\n}\n\nmodule.exports = {\n    name: 'articlesList',\n    template: require('./articles-list.html'),\n    controller: ArticlesListController,\n    controllerAs: 'articlesListCtrl',\n    bindings: {\n        list: '<'\n    }\n};\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/components/articles-list/articles-list.module.js","content":"let angular = require('angular'),\n    articlesListComponent = require('./articles-list.component');\n\nrequire('../paginator/paginator.module');\n\nmodule.exports = angular\n    .module('articlesListModule', ['paginatorModule'])\n    .component(articlesListComponent.name, articlesListComponent);\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/components/paginator/paginator.component.js","content":"var ELEMENTS_ON_PAGE = 5;\n\nfunction PaginatorController($timeout) {\n    var vm = this;\n\n    function onInit() {\n        vm.pages = [];\n\n        $timeout(function() {\n            for (var i = 0; i < Math.ceil(vm.articlesCount / ELEMENTS_ON_PAGE); ++i) {\n                vm.pages.push({\n                    startIndex: i * ELEMENTS_ON_PAGE,\n                    endIndex: i * ELEMENTS_ON_PAGE + ELEMENTS_ON_PAGE\n                });\n            }\n\n            vm.setPage(0);\n        }, 0);\n    }\n\n    function setPage(pageIndex) {\n        vm.updatePage({indices: vm.pages[pageIndex]});\n    }\n\n    vm.$onInit = onInit;\n    vm.setPage = setPage;\n}\n\nmodule.exports = {\n    name: 'paginator',\n    template: require('./paginator.html'),\n    controller: PaginatorController,\n    controllerAs: 'paginatorCtrl',\n    bindings: {\n        articlesCount: '<',\n        updatePage: '&'\n    }\n};\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/components/paginator/paginator.module.js","content":"var angular = require('angular'),\n    paginatorComponent = require('./paginator.component');\n\nmodule.exports = angular\n    .module('paginatorModule', [])\n    .component(paginatorComponent.name, paginatorComponent);\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/controllers/add-article.controller.js","content":"function AddArticleController($location, articleService) {\n    var vm = this;\n\n    function onArticleChange() {\n        articleService.addNewArticle({\n            title: vm.title,\n            content: vm.content,\n            id: Math.random().toString(36).substr(2, 5)\n        });\n\n        $location.path('/');\n    }\n\n    vm.heading = 'Add a new article';\n    vm.onArticleChange = onArticleChange;\n}\n\nmodule.exports = AddArticleController;\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/controllers/all-articles.controller.js","content":"function AllArticlesController($location, articleService) {\n    var vm = this;\n\n    function addArticle() {\n        $location.path('/add');\n    }\n\n    (function onInit() {\n        if (articleService.isListExists()) {\n            vm.articleList = articleService.getList();\n        } else {\n            articleService.getListPromise().then(function(data) {\n                vm.articleList = data;\n            })\n        };\n    })();\n\n    vm.addArticle = addArticle;\n}\n\nmodule.exports = AllArticlesController;\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/controllers/edit-article.controller.js","content":"function EditArticleController($location, $routeParams, articleService) {\n    let vm = this;\n\n    function onArticleChange() {\n        articleService.updateArticle(vm.article.id, vm.title, vm.content);\n        $location.path('/');\n    }\n\n    vm.heading = 'Edit an article';\n    vm.onArticleChange = onArticleChange;\n    vm.article = articleService.getArticleById($routeParams.id);\n    vm.content = vm.article.content;\n    vm.title = vm.article.title;\n}\n\nmodule.exports = EditArticleController;\n"},{"path":"/Users/anastasiazaharova/Desktop/nananananabatman.github.io/angular-task/src/directives/min-length.directive.js","content":"function MinLengthDirective() {\n    return {\n        require: 'ngModel',\n        link: function($scope, $element, $attr, $ctrl) {\n            function lengthValidation(value) {\n                if (value.length >= 20) {\n                    $ctrl.$setValidity('minLength', true);\n                } else {\n                    $ctrl.$setValidity('minLength', false);\n                }\n\n                return value;\n            }\n\n            $ctrl.$parsers.push(lengthValidation);\n        }\n    };\n}\n\nmodule.exports = MinLengthDirective;\n"}]